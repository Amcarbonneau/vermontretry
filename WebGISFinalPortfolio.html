<!doctype html>
<html>
<head>
    <title>Vermont Lakes with Algal Blooms</title>
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script>
        function initMap() {
            const map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: 43.860943, lng: -72.779566 },
                zoom: 7,
            });

            const lakes = [
                { title: "Lake Champlain, Missisquoi Bay", 
				  lat: 44.997864, 
				  lng: -73.120828, 
				  link: "https://www.lcbp.org/our-goals/clean-water/nutrients-and-cyanobacteria/missisquoi-bay-agreement/",
				  description: "Years it experienced a bloom: 2019, 2020, 2021, 2022",
				  color: "red"},
                { title: "Lake Champlain, St. Albans Bay", 
				  lat: 44.783892, 
				  lng: -73.158364, 
				  link: "https://vermonthistory.org/st-albans-bay-park",
				  description: "Years it experienced a bloom: 2019, 2020, 2021, 2022",
				  color: "red"},
                { title: "Lake Champlain, Malletts Bay", 
				  lat: 44.561655, 
				  lng: -73.205679, 
				  link: "https://vermont.com/cities/mallets-bay/",
				  description: "Years it experienced a bloom: 2019, 2020, 2021, 2022",
				  color: "red"},
                { title: "Lake Champlain, Main Lake", 
				  lat: 44.386447, 
				  lng: -73.291867, 
				  link: "https://www.lcbp.org/about-the-basin/facts/",
				  description: "Years it experienced a bloom: 2019, 2020, 2021, 2022",
				  color: "red"},
                { title: "Lake Champlain, South Lake", 
				  lat: 43.871309, 
				  lng: -73.371359,
				  description: "Years it experienced a bloom: 2019, 2020, 2021, 2022",
				  color: "red"},
				{ title: "Indian Brook Reservoir", 
				  lat: 44.534683, 
				  lng: -73.099022,
				  description: "Years it experienced a bloom: 2019",
				  color: "green"},
				{ title: "Shelbourne Pond", 
				  lat: 44.385363, 
				  lng:-73.159483, 
				  link: "https://www.vtfishandwildlife.com/fish/fishing-opportunities/fishing-chittenden-county/shelburne-pond",
				  description: "Years it experienced a bloom: 2019, 2020, 2021, 2022",
				  color: "red"}, 
				{ title: "Lake Iroquois", 
				  lat: 44.370465, 
				  lng:-73.084291, 
				  link: "https://www.lakeiroquois.org/",
				  description: "Years it experienced a bloom: 2021",
				  color: "green"},
				{ title: "Lake Carmi", 
				  lat: 44.970066, 
				  lng: -72.876085, 
				  link: "https://www.vtstateparks.com/parks/lake-carmi",
				  description: "Years it experienced a bloom: 2019, 2020, 2021, 2022",
				  color: "red"}, 
				{ title: "Harriman Reservoir", 
				  lat: 42.832795, 
				  lng:-72.880508,
				  description: "Years it experienced a bloom: 2020",
				  color: "green"},
				{ title: "Lake Raponda", 
				  lat: 42.873655, 
				  lng: -72.818833, 
				  link: "https://raponda.org/",
				  description: "Years it experienced a bloom: 2020",
				  color: "green"},
				{ title: "Upper Knapp Brook", 
				  lat: 43.449470, 
				  lng: -72.569214,
				  description: "Years it experienced a bloom: 2020, 2022",
				  color: "yellow"},
				{ title: "Lake Morey", 
				  lat: 43.922390, 
				  lng: -72.151037, 
				  link: "https://dec.vermont.gov/watershed/restoring/morey",
				  description: "Years it experienced a bloom: 2020, 2021, 2022",
				  color: "orange"},
				{ title: "Halls Lake", 
				  lat: 44.086287, 
				  lng: -72.123729,
				  description: "Years it experienced a bloom: 2020",
				  color: "green"},
				{ title: "Ticklenaked Pond", 
				  lat: 44.187374, 
				  lng: -72.099057, 
				  link: "https://dec.vermont.gov/watershed/restoring/ticklenaked",
				  description: "Years it experienced a bloom: 2020",
				  color: "green"}, 
				{ title: "Mollys Falls Pond", 
				  lat: 44.358367, 
				  lng: -72.283433,
				  description: "Years it experienced a bloom: 2020, 2021",
				  color: "yellow"},
				{ title: "Joes Pond", 
				  lat: 44.411288, 
				  lng: -72.221637,
				  description: "Years it experienced a bloom: 2022",
				  color: "green"},
				{ title: "Nichols Pond", 
				  lat: 44.456853, 
				  lng:-72.343956,
				  description: "Years it experienced a bloom: 2019",
				  color: "green"},
				{ title: "Lake Parker", 
				  lat: 44.719138, 
				  lng: -72.232874,
				  description: "Years it experienced a bloom: 2020",
				  color: "green"},
				{ title: "Lake Memphremagog", 
				  lat: 44.986501, 
				  lng: -72.217280, 
				  link: "https://www.vtfishandwildlife.com/fish/fishing-opportunities/family-friendly-fishing/lake-memphremagog-newport-city",
				  description: "Years it experienced a bloom: 2019, 2021, 2022",
				  color: "orange"}, 
            ];

            lakes.forEach(lake => {
    const marker = new google.maps.Marker({
        position: { lat: lake.lat, lng: lake.lng },
        map,
        title: lake.title,
        icon: `https://maps.google.com/mapfiles/ms/icons/${lake.color || 'blue'}-dot.png`
    });

    // Create the info window content
    const contentString = `
        <h3>${lake.title}</h3>
        <p>${lake.description || "No description available."}</p>
        ${lake.link ? `<a href="${lake.link}" target="_blank">Lake Website</a>` : ""}
    `;

    const infoWindow = new google.maps.InfoWindow({
        content: contentString
    });

    // Add click listener for the marker
    marker.addListener("click", () => {
        infoWindow.open(map, marker);
    });
});
    }
</script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap" defer></script>
</body>
</html>